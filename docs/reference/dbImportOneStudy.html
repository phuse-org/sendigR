<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Import SEND study data in SAS xport format into a SEND database from a single
study folder — dbImportOneStudy • sendigR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Import SEND study data in SAS xport format into a SEND database from a single
study folder — dbImportOneStudy"><meta property="og:description" content="Check each of the SAS xpt file located in the specified folder - import
content from file and load it into the corresponding SEND domain table in the
open database."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sendigR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction.html">Introduction to sendigR</a>
    </li>
    <li>
      <a href="../articles/SendDashboard.html">SendDashboard</a>
    </li>
    <li>
      <a href="../articles/Usingxptcleaner.html">Using xptcleaner</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Import SEND study data in SAS xport format into a SEND database from a single
study folder</h1>
    
    <div class="hidden name"><code>dbImportOneStudy.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Check each of the SAS xpt file located in the specified folder - import
content from file and load it into the corresponding SEND domain table in the
open database.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">dbImportOneStudy</span><span class="op">(</span><span class="va">dbToken</span>, <span class="va">xptPath</span>, overWrite <span class="op">=</span> <span class="cn">FALSE</span>, checkRequiredVars <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dbToken</dt>
<dd><p>Mandatory<br>
Token for the open database connection (see <code><a href="initEnvironment.html">initEnvironment</a></code>).</p></dd>
<dt>xptPath</dt>
<dd><p>Mandatory, character<br>
Location of the SAS xport files</p></dd>
<dt>overWrite</dt>
<dd><p>Mandatory, boolean<br>
Whether an already existing study in the database may be overwritten by
newly imported data.</p></dd>
<dt>checkRequiredVars</dt>
<dd><p>Mandatory, boolean<br>
Whether not-required domains are checked for existence and content of
required variables</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>These requirements to the content of the folder must be fulfilled:</p><ol><li><p>The folder must contain some SAS xport files named
<code>[send domain].xpt</code> - the case of the file names doesn't care</p></li>
<li><p>A minimum set of required domain files must be included:
<code>ts.xpt</code>, <code>tx.xpt</code>, <code>dm.xpt</code>.</p></li>
<li><p>Each xpt file must contain one data table with same name as the file
name - i.e. a send domain name.</p></li>
<li><p>Each xpt file must contain a non-empty STUDYID value in each row equal
to the value of TS.STUDYID.</p></li>
<li><p>Each xpt file must contain a set of required column(s).<br>
In general it's (where relevant for the different kinds of domains):<br><code>STUDYID, DOMAIN, --SEQ, USUBJID, --TESTCD, --TEST,--ORRES, --ORRESU,
   --STRESC, --STRESN, --STRESU</code></p></li>
<li><p>The DOMAIN variable must contain the name of the actual domain in
all rows</p></li>
</ol><p>The last two requirements are checked for the required domains in all cases.
For other domains, these two requirements are only checked if parameter
<code>checkRequiredVars = TRUE</code>.<br></p>
<p>If an error is detected, the import and load of data is canceled, and further
execution is aborted (i.e. error message is written to the console).<br>
These error situations are checked and reported:</p><ul><li><p>Any of the requirements 1 to 3 are not fulfilled or any of the
following requirements are not fulfilled for one of the required domains</p></li>
<li><p>A study with the same value if STUDYID exists in the database and
parameter <code>overWrite = FALSE</code>.</p></li>
</ul><p>If one of the requirements 4 to 6 are not fulfilled for a not-required
domain, this domain is excluded from the import. These kinds of issues are
reported as one warning message to the console when data has been loaded.<br></p>
<p>Some non-critical issues, which doesn't prohibit data to be loaded to the
database may be detected. These are reported as one warning message to the
console when data has been loaded (together with eventual warning messages
for skipped domains).<br>
These non-critical issues are checked and reported:</p><ul><li><p>The study folder contains one or more xpt file(s) with names(s) not
matching SEND domain name(s).<br>
Such files are ignored by the import/load process.</p></li>
<li><p>An imported data tables contains one or more column(s) which
do(es)n't exist(s) in the corresponding domain.</p></li>
</ul><p>The database must be an SQLite database - no other types of databases are
supported by this function.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># Do not overwrite if study already exists in the database</span></span>
<span class="r-in"><span class="fu">dbImportOneStudy</span><span class="op">(</span><span class="va">myDbToken</span>,<span class="st">'/mydatapath/studies/1213443'</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Allow to overwrite data if study already exists in the database</span></span>
<span class="r-in"><span class="fu">dbImportOneStudy</span><span class="op">(</span><span class="va">myDbToken</span>,<span class="st">'/mydatapath/studies/786756'</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bo Larsen, Yousuf Ali, Kevin Snyder, William Houser,
Brianna Paisley, Cmsabbir Ahmed, Susan Butler, Michael Rosentreter,
Michael Denieu, Wenxian aut Wang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

